{
  "name": "capitovo Social Media Monitoring Agent",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "cronExpression",
              "expression": "0 */6 * * *"
            }
          ]
        }
      },
      "id": "schedule-trigger",
      "name": "Schedule Trigger",
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.1,
      "position": [250, 300]
    },
    {
      "parameters": {
        "functionCode": "// Load existing analyses to track companies\nconst fs = require('fs');\nconst analysenPath = '/workspaces/capitovo/data/analysen.json';\n\ntry {\n  const analysenData = fs.readFileSync(analysenPath, 'utf8');\n  const analysen = JSON.parse(analysenData);\n  \n  // Extract tickers for monitoring\n  const existingTickers = analysen.map(a => a.ticker);\n  const existingCompanies = analysen.map(a => ({\n    ticker: a.ticker,\n    company: a.company\n  }));\n  \n  return {\n    json: {\n      existingTickers: existingTickers,\n      existingCompanies: existingCompanies,\n      tickerList: existingTickers.join(', '),\n      totalAnalyses: analysen.length\n    }\n  };\n} catch (error) {\n  return {\n    json: {\n      error: error.message,\n      existingTickers: [],\n      existingCompanies: [],\n      tickerList: '',\n      totalAnalyses: 0\n    }\n  };\n}"
      },
      "id": "load-portfolio",
      "name": "Load Portfolio",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [450, 300]
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.perplexity.ai/chat/completions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "perplexityApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{$credentials.apiKey}}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"sonar-pro\",\n  \"messages\": [{\"role\": \"system\", \"content\": \"Du bist ein Social Media Analyst f√ºr Finanzm√§rkte. Analysiere Twitter (X), Reddit WallStreetBets, StockTwits und YouTube f√ºr Retail-Investor-Sentiment und virale Trends.\"}, {\"role\": \"user\", \"content\": \"üî• **SOCIAL MEDIA MONITORING - AKTUELLE PORTFOLIO-AKTIEN**\\n\\nüìä √úberwache folgende Aktien: {{$json.tickerList}}\\n\\n---\\n\\nüéØ **Analyse-Auftrag:**\\n\\n1Ô∏è‚É£ **Twitter/X Trending:** Welche dieser Aktien werden aktuell am meisten diskutiert? (letzte 24h)\\n2Ô∏è‚É£ **Reddit WSB:** Welche Aktien haben Posts mit vielen Upvotes? Bullish oder Bearish?\\n3Ô∏è‚É£ **StockTwits Sentiment:** Positive oder negative Stimmung?\\n4Ô∏è‚É£ **Influencer Mentions:** Haben bekannte FinTwit-Accounts (z.B. @elonmusk, @chamath, @CathieDWood) eine dieser Aktien erw√§hnt?\\n5Ô∏è‚É£ **Unusual Activity:** Pl√∂tzliche Spikes in Mentions? Meme-Status?\\n\\n---\\n\\n**Antwortformat:**\\n\\n## üî• HOT RIGHT NOW (Top 3)\\n### 1. [TICKER] - [Company]\\n**Mention Spike:** [+X% vs. gestern]\\n**Sentiment:** [Bullish/Bearish/Neutral] (Score: X/10)\\n**Top Post/Tweet:** [Zusammenfassung mit Engagement-Zahlen]\\n**Catalysts:** [Warum trendet es?]\\n**Viral Potential:** [Low/Medium/High]\\n\\n[Wiederhole f√ºr #2 und #3]\\n\\n## üìä Portfolio Sentiment Overview\\n[Alle √ºberwachten Aktien - kurze Sentiment-Zusammenfassung]\\n\\n## üö® Alerts & Red Flags\\n[Negative Sentiment-Shifts, FUD, Short-Seller-Kampagnen]\\n\\n## üí° Content Opportunities\\n[Welche Aktien sollten aufgrund von Social Buzz priorisiert werden?]\"}],\n  \"temperature\": 0.2,\n  \"max_tokens\": 2500,\n  \"search_recency_filter\": \"day\"\n}",
        "options": {}
      },
      "id": "portfolio-monitoring",
      "name": "Portfolio Social Monitoring",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [650, 300],
      "credentials": {
        "httpHeaderAuth": {
          "id": "perplexity-api-key",
          "name": "Perplexity API"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.perplexity.ai/chat/completions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "perplexityApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{$credentials.apiKey}}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"sonar-pro\",\n  \"messages\": [{\"role\": \"system\", \"content\": \"Du bist ein Trend-Scout f√ºr Finanzm√§rkte. Identifiziere aufkommende Aktien-Trends BEVOR sie Mainstream werden. Fokus auf Retail-Investoren.\"}, {\"role\": \"user\", \"content\": \"üöÄ **TREND DISCOVERY - NEUE AKTIEN MIT MOMENTUM**\\n\\nüîç **Mission:** Finde Aktien die NICHT in dieser Liste sind, aber gerade viral gehen:\\n{{$json.tickerList}}\\n\\n---\\n\\n**Suchkriterien:**\\n1Ô∏è‚É£ **Reddit WSB:** Neue Ticker mit >500 Upvotes in letzten 48h\\n2Ô∏è‚É£ **Twitter Trending:** Aktien mit pl√∂tzlichem Mention-Spike (+200% vs. Vorwoche)\\n3Ô∏è‚É£ **StockTwits:** Watchlist-Adds +50% diese Woche\\n4Ô∏è‚É£ **YouTube:** Neue Videos von gro√üen Finance-Channels (>100k Subs)\\n5Ô∏è‚É£ **Meme-Potential:** Short Interest >20%, kleine Market Cap (<$10B), Story-Potential\\n\\n---\\n\\n**Antwortformat:**\\n\\n## üöÄ EMERGING TRENDS (Top 5)\\n### 1. [TICKER] - [Company]\\n**Sector:** [Kategorie]\\n**Why Trending:** [Catalyst/Reason]\\n**Social Metrics:**\\n  - Reddit Mentions: [Anzahl, Sentiment]\\n  - Twitter Impressions: [Gesch√§tzt]\\n  - StockTwits Watchlists: [+X%]\\n**Viral Score:** [0-10]\\n**Investment Thesis:** [1-2 S√§tze]\\n**Risk Level:** [Low/Medium/High]\\n**Action:** [Sofort analysieren / Beobachten / Ignorieren]\\n\\n[Wiederhole f√ºr #2-5]\\n\\n## üìà Trend Categories\\n[Welche Themen dominieren? z.B. AI, Cannabis, EV, Biotech]\\n\\n## ‚ö†Ô∏è Pump & Dump Warnings\\n[Verd√§chtige Aktien mit koordinierten Pump-Kampagnen]\"}],\n  \"temperature\": 0.3,\n  \"max_tokens\": 3000,\n  \"search_recency_filter\": \"day\"\n}",
        "options": {}
      },
      "id": "trend-discovery",
      "name": "Trend Discovery Agent",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [650, 480],
      "credentials": {
        "httpHeaderAuth": {
          "id": "perplexity-api-key",
          "name": "Perplexity API"
        }
      }
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.perplexity.ai/chat/completions",
        "authentication": "predefinedCredentialType",
        "nodeCredentialType": "perplexityApi",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Authorization",
              "value": "=Bearer {{$credentials.apiKey}}"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"model\": \"sonar-pro\",\n  \"messages\": [{\"role\": \"system\", \"content\": \"Du bist ein Influencer-Monitoring-Spezialist. Tracke wichtige FinTwit-Pers√∂nlichkeiten und deren Aktien-Mentions.\"}, {\"role\": \"user\", \"content\": \"üë• **INFLUENCER MONITORING - LETZTE 48H**\\n\\nüéØ **√úberwache folgende Accounts:**\\n- Elon Musk (@elonmusk)\\n- Cathie Wood / ARK Invest (@CathieDWood, @ARKInvest)\\n- Chamath Palihapitiya (@chamath)\\n- Bill Ackman (@BillAckman)\\n- Michael Burry (@michaeljburry / BurryArchive)\\n- Jim Cramer (@jimcramer)\\n- Dave Portnoy (@stoolpresidente)\\n- Gro√üe deutsche Finanz-Influencer (z.B. Kolja Barghoorn)\\n\\n---\\n\\n**Analyse:**\\n1Ô∏è‚É£ Welche Aktien wurden erw√§hnt?\\n2Ô∏è‚É£ Bullish oder Bearish Stance?\\n3Ô∏è‚É£ Kaufen/Verkaufen/Halten Signale?\\n4Ô∏è‚É£ Engagement der Tweets (Likes, Retweets)\\n5Ô∏è‚É£ Auswirkung auf Aktienkurs (falls messbar)\\n\\n---\\n\\n**Antwortformat:**\\n\\n## üì¢ INFLUENCER ACTIVITY\\n### [Influencer Name]\\n**Mentioned:** [TICKER] - [Company]\\n**Statement:** [Zusammenfassung des Posts]\\n**Stance:** [Bullish/Bearish/Neutral]\\n**Engagement:** [X Likes, Y Retweets]\\n**Market Impact:** [Kurs +/-X% danach]\\n**Relevance Score:** [0-10]\\n\\n[F√ºr jeden relevanten Influencer]\\n\\n## üî• Most Impactful Mention\\n[Der Tweet/Post mit gr√∂√üter Wirkung]\\n\\n## üìä Sentiment Breakdown\\n[Bullish vs. Bearish Ratio bei Influencern]\"}],\n  \"temperature\": 0.1,\n  \"max_tokens\": 2000,\n  \"search_recency_filter\": \"day\"\n}",
        "options": {}
      },
      "id": "influencer-tracking",
      "name": "Influencer Tracking Agent",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.1,
      "position": [650, 660],
      "credentials": {
        "httpHeaderAuth": {
          "id": "perplexity-api-key",
          "name": "Perplexity API"
        }
      }
    },
    {
      "parameters": {
        "functionCode": "// Parse Portfolio Monitoring Results\nconst response = $input.item.json.choices[0].message.content;\n\nfunction extractTopTrending(text) {\n  const regex = /##\\s*üî•\\s*HOT RIGHT NOW[^#]*([\\s\\S]*?)(?=##|$)/i;\n  const match = text.match(regex);\n  return match ? match[1].trim() : '';\n}\n\nfunction extractSentimentOverview(text) {\n  const regex = /##\\s*üìä\\s*Portfolio Sentiment[^#]*([\\s\\S]*?)(?=##|$)/i;\n  const match = text.match(regex);\n  return match ? match[1].trim() : '';\n}\n\nfunction extractAlerts(text) {\n  const regex = /##\\s*üö®\\s*Alerts[^#]*([\\s\\S]*?)(?=##|$)/i;\n  const match = text.match(regex);\n  return match ? match[1].trim() : '';\n}\n\nfunction extractOpportunities(text) {\n  const regex = /##\\s*üí°\\s*Content Opportunities[^#]*([\\s\\S]*?)(?=##|$)/i;\n  const match = text.match(regex);\n  return match ? match[1].trim() : '';\n}\n\nreturn {\n  json: {\n    hotTrending: extractTopTrending(response),\n    sentimentOverview: extractSentimentOverview(response),\n    alerts: extractAlerts(response),\n    contentOpportunities: extractOpportunities(response),\n    fullReport: response\n  }\n};"
      },
      "id": "parse-portfolio-monitoring",
      "name": "Parse Portfolio Monitoring",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [850, 300]
    },
    {
      "parameters": {
        "functionCode": "// Parse Trend Discovery Results\nconst response = $input.item.json.choices[0].message.content;\n\nfunction extractSection(text, keyword) {\n  const regex = new RegExp(`##\\\\s*${keyword}[^#]*([\\\\s\\\\S]*?)(?=##|$)`, 'i');\n  const match = text.match(regex);\n  return match ? match[1].trim() : '';\n}\n\n// Extract individual trending stocks\nfunction extractTrendingStocks(text) {\n  const stockRegex = /###\\s*(\\d+)\\.\\s*([A-Z]+)\\s*-\\s*([^\\n]+)/g;\n  const stocks = [];\n  let match;\n  \n  while ((match = stockRegex.exec(text)) !== null) {\n    stocks.push({\n      rank: parseInt(match[1]),\n      ticker: match[2],\n      company: match[3].trim()\n    });\n  }\n  \n  return stocks;\n}\n\nconst emergingSection = extractSection(response, 'üöÄ\\\\s*EMERGING TRENDS');\nconst trendingStocks = extractTrendingStocks(emergingSection);\n\nreturn {\n  json: {\n    emergingTrends: emergingSection,\n    trendCategories: extractSection(response, 'üìà\\\\s*Trend Categories'),\n    pumpWarnings: extractSection(response, '‚ö†Ô∏è\\\\s*Pump'),\n    trendingStocks: trendingStocks,\n    topTicker: trendingStocks.length > 0 ? trendingStocks[0].ticker : '',\n    topCompany: trendingStocks.length > 0 ? trendingStocks[0].company : '',\n    fullReport: response\n  }\n};"
      },
      "id": "parse-trend-discovery",
      "name": "Parse Trend Discovery",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [850, 480]
    },
    {
      "parameters": {
        "functionCode": "// Parse Influencer Tracking Results\nconst response = $input.item.json.choices[0].message.content;\n\nfunction extractSection(text, keyword) {\n  const regex = new RegExp(`##\\\\s*${keyword}[^#]*([\\\\s\\\\S]*?)(?=##|$)`, 'i');\n  const match = text.match(regex);\n  return match ? match[1].trim() : '';\n}\n\nreturn {\n  json: {\n    influencerActivity: extractSection(response, 'üì¢\\\\s*INFLUENCER ACTIVITY'),\n    mostImpactful: extractSection(response, 'üî•\\\\s*Most Impactful'),\n    sentimentBreakdown: extractSection(response, 'üìä\\\\s*Sentiment Breakdown'),\n    fullReport: response\n  }\n};"
      },
      "id": "parse-influencer-tracking",
      "name": "Parse Influencer Tracking",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [850, 660]
    },
    {
      "parameters": {
        "functionCode": "// Combine all social media insights\nconst portfolio = $('Parse Portfolio Monitoring').item.json;\nconst trends = $('Parse Trend Discovery').item.json;\nconst influencers = $('Parse Influencer Tracking').item.json;\n\n// Calculate priority scores\nconst hasHotTrending = portfolio.hotTrending.length > 100;\nconst hasNewTrends = trends.trendingStocks.length > 0;\nconst hasInfluencerMentions = influencers.mostImpactful.length > 50;\n\nconst urgencyScore = (hasHotTrending ? 3 : 0) + (hasNewTrends ? 2 : 0) + (hasInfluencerMentions ? 1 : 0);\n\nreturn {\n  json: {\n    // Combined insights\n    portfolioInsights: {\n      trending: portfolio.hotTrending,\n      sentiment: portfolio.sentimentOverview,\n      alerts: portfolio.alerts,\n      opportunities: portfolio.contentOpportunities\n    },\n    \n    newTrends: {\n      emerging: trends.emergingTrends,\n      categories: trends.trendCategories,\n      warnings: trends.pumpWarnings,\n      topPicks: trends.trendingStocks\n    },\n    \n    influencerSignals: {\n      activity: influencers.influencerActivity,\n      impact: influencers.mostImpactful,\n      sentiment: influencers.sentimentBreakdown\n    },\n    \n    // Action items\n    urgencyScore: urgencyScore,\n    urgencyLevel: urgencyScore >= 4 ? 'HIGH' : urgencyScore >= 2 ? 'MEDIUM' : 'LOW',\n    \n    topNewCandidate: trends.topTicker || 'None',\n    topNewCompany: trends.topCompany || 'None',\n    \n    // Full reports for reference\n    reports: {\n      portfolio: portfolio.fullReport,\n      trends: trends.fullReport,\n      influencers: influencers.fullReport\n    },\n    \n    generatedAt: new Date().toISOString(),\n    formattedDate: new Date().toLocaleDateString('de-DE'),\n    formattedTime: new Date().toLocaleTimeString('de-DE')\n  }\n};"
      },
      "id": "combine-insights",
      "name": "Combine Social Insights",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1050, 480]
    },
    {
      "parameters": {
        "functionCode": "// Generate Social Media Report\nconst data = $input.item.json;\n\nconst urgencyEmoji = data.urgencyLevel === 'HIGH' ? 'üö®' : data.urgencyLevel === 'MEDIUM' ? '‚ö†Ô∏è' : '‚úÖ';\n\nconst markdown = `# üî• Social Media Monitoring Report\n**Generiert am:** ${data.formattedDate} um ${data.formattedTime}  \n**Urgency Level:** ${urgencyEmoji} ${data.urgencyLevel} (Score: ${data.urgencyScore}/6)\n\n---\n\n## üìä PORTFOLIO SENTIMENT\n\n### üî• Hot Right Now\n${data.portfolioInsights.trending}\n\n### üìà Sentiment Overview\n${data.portfolioInsights.sentiment}\n\n### üö® Alerts & Red Flags\n${data.portfolioInsights.alerts || 'Keine kritischen Alerts'}\n\n### üí° Content Opportunities\n${data.portfolioInsights.opportunities}\n\n---\n\n## üöÄ NEW EMERGING TRENDS\n\n### Top Discoveries\n${data.newTrends.emerging}\n\n### üìà Trend Categories\n${data.newTrends.categories}\n\n### ‚ö†Ô∏è Pump & Dump Warnings\n${data.newTrends.warnings || 'Keine verd√§chtigen Aktivit√§ten erkannt'}\n\n---\n\n## üë• INFLUENCER SIGNALS\n\n### üì¢ Recent Activity\n${data.influencerSignals.activity}\n\n### üî• Most Impactful Mention\n${data.influencerSignals.impact}\n\n### üìä Sentiment Breakdown\n${data.influencerSignals.sentiment}\n\n---\n\n## üéØ ACTION ITEMS\n\n### Immediate Actions (${data.urgencyLevel} Priority)\n\n${\n  data.urgencyLevel === 'HIGH' \n    ? 'üö® **URGENT:** Hohe Social Media Aktivit√§t erkannt!\\n\\n1. Portfolio-Aktien mit Trending-Status sofort √ºberpr√ºfen\\n2. Neue Analyse f√ºr Top-Trend-Aktie erw√§gen: **' + data.topNewCandidate + '**\\n3. Social Media Posts vorbereiten (Strike while hot!)\\n4. Newsletter-Update mit aktuellen Trends'\n    : data.urgencyLevel === 'MEDIUM'\n    ? '‚ö†Ô∏è **MODERATE:** Interessante Entwicklungen beobachten\\n\\n1. Top-Trend **' + data.topNewCandidate + '** f√ºr sp√§tere Analyse notieren\\n2. Portfolio-Sentiment im Auge behalten\\n3. Bei weiterem Momentum reagieren'\n    : '‚úÖ **NORMAL:** Routine-Monitoring\\n\\n1. W√∂chentliche Review der Trends\\n2. Keine sofortigen Aktionen erforderlich\\n3. N√§chstes Monitoring abwarten'\n}\n\n### Top New Candidate for Analysis\n${\n  data.topNewCandidate !== 'None'\n    ? `**${data.topNewCandidate}** - ${data.topNewCompany}\\n\\n*Begr√ºndung:* Hohe Social Media Aktivit√§t, starkes Momentum, passt zu capitovo Zielgruppe.`\n    : 'Keine herausragenden neuen Kandidaten gefunden.'\n}\n\n---\n\n## üìà TREND SUMMARY\n\n| Metric | Status |\n|--------|--------|\n| Portfolio Hot Stocks | ${data.portfolioInsights.trending.split('###').length - 1} identifiziert |\n| New Emerging Trends | ${data.newTrends.topPicks.length} Kandidaten |\n| Influencer Mentions | ${data.influencerSignals.activity.length > 100 ? 'Aktiv' : 'Ruhig'} |\n| Alerts & Warnings | ${data.portfolioInsights.alerts.length > 50 || data.newTrends.warnings.length > 50 ? '‚ö†Ô∏è Ja' : '‚úÖ Keine'} |\n| Overall Urgency | ${urgencyEmoji} ${data.urgencyLevel} |\n\n---\n\n## üîó Next Steps\n\n1. Review diesen Report\n2. Bei HIGH/MEDIUM Urgency: Content Strategy Agent triggern\n3. Social Media Posts f√ºr trending Aktien vorbereiten\n4. Portfolio-Analysen bei negativem Sentiment updaten\n\n---\n\n## üìö Full Reports\n\n<details>\n<summary>üìä Portfolio Monitoring (Full)</summary>\n\n${data.reports.portfolio}\n\n</details>\n\n<details>\n<summary>üöÄ Trend Discovery (Full)</summary>\n\n${data.reports.trends}\n\n</details>\n\n<details>\n<summary>üë• Influencer Tracking (Full)</summary>\n\n${data.reports.influencers}\n\n</details>\n\n---\n\n*Report generiert von capitovo Social Media Monitoring Agent*\n`;\n\nconst fs = require('fs');\nconst timestamp = new Date().toISOString().replace(/[:.]/g, '-').split('T')[0];\nconst reportPath = `/workspaces/capitovo/n8n/social_media_report_${timestamp}.md`;\nfs.writeFileSync(reportPath, markdown, 'utf8');\n\nreturn {\n  json: {\n    markdown: markdown,\n    reportPath: reportPath,\n    urgencyLevel: data.urgencyLevel,\n    urgencyScore: data.urgencyScore,\n    topNewCandidate: data.topNewCandidate,\n    hasAlerts: data.portfolioInsights.alerts.length > 50\n  }\n};"
      },
      "id": "generate-report",
      "name": "Generate Social Report",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [1250, 480]
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json.urgencyLevel}}",
              "operation": "equals",
              "value2": "HIGH"
            }
          ]
        }
      },
      "id": "check-urgency",
      "name": "High Urgency?",
      "type": "n8n-nodes-base.if",
      "typeVersion": 2,
      "position": [1450, 480]
    },
    {
      "parameters": {
        "content": "=üî• **SOCIAL MEDIA ALERT - HIGH URGENCY**\\n\\n‚ö†Ô∏è **Urgency Level:** {{$('Generate Social Report').item.json.urgencyLevel}} (Score: {{$('Generate Social Report').item.json.urgencyScore}}/6)\\n\\nüöÄ **Top New Trend:** {{$('Generate Social Report').item.json.topNewCandidate}}\\n\\nüìä **Report:** `{{$('Generate Social Report').item.json.reportPath}}`\\n\\nüí° *Empfehlung:* Hohe Social Media Aktivit√§t! Pr√ºfe Portfolio-Aktien und erw√§ge schnelle Content-Reaktion.\\n\\nüîó **Action:** Report √∂ffnen und TOP-Trends priorisieren!",
        "additionalFields": {}
      },
      "id": "slack-urgent-alert",
      "name": "Slack: Urgent Alert",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.1,
      "position": [1650, 380],
      "credentials": {
        "slackApi": {
          "id": "slack-webhook",
          "name": "Slack Webhook"
        }
      }
    },
    {
      "parameters": {
        "content": "=üìä **Social Media Monitoring Update**\\n\\n‚úÖ **Urgency Level:** {{$('Generate Social Report').item.json.urgencyLevel}}\\n\\nüìà **Top Trend:** {{$('Generate Social Report').item.json.topNewCandidate || 'Keine besonderen Trends'}}\\n\\nüìÑ **Report:** `{{$('Generate Social Report').item.json.reportPath}}`\\n\\n*Routine-Monitoring abgeschlossen. Keine dringenden Actions.*",
        "additionalFields": {}
      },
      "id": "slack-routine-update",
      "name": "Slack: Routine Update",
      "type": "n8n-nodes-base.slack",
      "typeVersion": 2.1,
      "position": [1650, 580],
      "credentials": {
        "slackApi": {
          "id": "slack-webhook",
          "name": "Slack Webhook"
        }
      }
    }
  ],
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Load Portfolio",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Load Portfolio": {
      "main": [
        [
          {
            "node": "Portfolio Social Monitoring",
            "type": "main",
            "index": 0
          },
          {
            "node": "Trend Discovery Agent",
            "type": "main",
            "index": 0
          },
          {
            "node": "Influencer Tracking Agent",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Portfolio Social Monitoring": {
      "main": [
        [
          {
            "node": "Parse Portfolio Monitoring",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Trend Discovery Agent": {
      "main": [
        [
          {
            "node": "Parse Trend Discovery",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Influencer Tracking Agent": {
      "main": [
        [
          {
            "node": "Parse Influencer Tracking",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Portfolio Monitoring": {
      "main": [
        [
          {
            "node": "Combine Social Insights",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Trend Discovery": {
      "main": [
        [
          {
            "node": "Combine Social Insights",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Parse Influencer Tracking": {
      "main": [
        [
          {
            "node": "Combine Social Insights",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Combine Social Insights": {
      "main": [
        [
          {
            "node": "Generate Social Report",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Social Report": {
      "main": [
        [
          {
            "node": "High Urgency?",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "High Urgency?": {
      "main": [
        [
          {
            "node": "Slack: Urgent Alert",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Slack: Routine Update",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 1,
  "updatedAt": "2025-11-30T00:00:00.000Z",
  "versionId": "1"
}
