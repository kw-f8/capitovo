<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Apple — capitovo</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="../style.css">
  <!-- Page-specific layout and focus styles moved to global `style.css` -->
</head>
<body class="bg-white text-gray-900 abonenten-page">

  <header>
    <div class="header-content">
        <div class="logo">
        <a href="./abonenten.html">
          <img src="../caitavo_logo_weiß.png" alt="capitovo Logo" class="header-logo">
        </a>
      </div>
      <button class="menu-toggle" id="menu-toggle" aria-controls="sidebar" aria-expanded="false" aria-label="Menü öffnen">
        &#9776;
      </button>
    </div>
  </header>

  <!-- Sidebar (kept from Abonenten page) -->
  <div class="sidebar" id="sidebar" aria-hidden="true" aria-label="Seitenmenü">
      <button class="close-button" id="close-sidebar" aria-label="Sidebar schließen">&times;</button>
      <nav class="sidebar-nav" aria-label="Hauptnavigation">
          <ul>
              <li>
                  <a href="./abonenten.html" class="flex items-center space-x-3" aria-label="Startseite">
                      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 flex-shrink-0" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                          <path d="M3 11.5L12 4l9 7.5" />
                          <path d="M5 10.5v7.5a1 1 0 001 1h3v-5h6v5h3a1 1 0 001-1v-7.5" />
                      </svg>
                      <span>Startseite</span>
                  </a>
              </li>
              <li>
                  <div>
                      <a href="./konto.html" class="flex items-center space-x-3" aria-label="Mein Konto">
                          <svg class="w-5 h-5 flex-shrink-0" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                              <circle cx="12" cy="8" r="3" stroke="currentColor" stroke-width="1.5" />
                              <path d="M6 20c0-3.333 3.333-6 6-6s6 2.667 6 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                          <span>Mein Konto</span>
                      </a>
                  </div>
              </li>
              <li>
                  <a href="./alle_analysen.html" class="flex items-center space-x-3">
                      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><rect x="3" y="10" width="4" height="11" rx="0.5" /><rect x="10" y="6" width="4" height="15" rx="0.5" /><rect x="17" y="3" width="4" height="18" rx="0.5" /></svg>
                      <span>Analysen</span>
                  </a>
              </li>
              <li>
                  <a href="./aktien-monitor.html" class="flex items-center space-x-3">
                      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                          <path d="M3 17l6-6 4 4 8-8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" />
                          <polyline points="3 17 9 11 13 15 21 7" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none" />
                      </svg>
                      <span>Aktien‑Monitor</span>
                  </a>
              </li>
              <li>
                  <a href="./earnings_kalender.html" class="flex items-center space-x-3">
                      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                          <line x1="16" y1="2" x2="16" y2="6"></line>
                          <line x1="8" y1="2" x2="8" y2="6"></line>
                          <line x1="3" y1="10" x2="21" y2="10"></line>
                      </svg>
                      <span>Wirtschaftskalender</span>
                  </a>
              </li>
              <li class="logout-bottom">
                  <a href="#" id="open-contact-modal" class="flex items-center space-x-3" aria-label="Kontakt aufnehmen">
                      <svg class="w-5 h-5 flex-shrink-0" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                          <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M22 6l-10 7L2 6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                      </svg>
                      <span>Kontakt</span>
                  </a>
              </li>

              <li class="logout-bottom">
                  <a href="#" id="logout-link" class="logout-link" aria-label="Abmelden">
                      <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                          <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                          <path d="M16 17l5-5-5-5" />
                          <path d="M21 12H9" />
                      </svg>
                      <span>Abmelden</span>
                  </a>
              </li>
          </ul>
      </nav>
  </div>

  <!-- Hauptinhalt: Artikel/Chart-Platzhalter (aligned with site content) -->
  <main class="max-w-6xl mx-auto p-6">
        <section class="member-grid">
            <div class="bg-white p-6 rounded-xl shadow analyses-box" style="width:calc(100% - 12px);">
                <div class="flex items-center justify-between mb-4">
                  <h2 class="text-xl font-semibold">Apple Inc.</h2>
                  <a href="./aktien-monitor.html" class="inline-flex items-center text-sm text-gray-600 hover:text-gray-900 ml-4" aria-label="Zurück zur Übersicht">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M15 18l-6-6 6-6"/></svg>
                    <span>Zurück zur Übersicht</span>
                  </a>
                </div>

                    <div class="mb-4">
                    <div class="flex flex-col md:flex-row md:items-stretch md:gap-6">
                        <!-- Left: description (takes remaining space) -->
                        <div id="description-col" class="md:flex-1 text-gray-700">
                            <p class="text-gray-600 mb-3">Apple ist eines der weltweit führenden Technologieunternehmen und steht für Innovation, Design und digitale Lösungen. Das Unternehmen wurde 1976 gegründet und ist heute bekannt für seine Produkte wie iPhone, iPad, Mac, Apple Watch und AirPods, die weltweit Millionen von Nutzern begeistern.</p>
                            <p class="text-gray-600 mb-3">Neben Hardware bietet Apple auch eine Vielzahl digitaler Dienstleistungen an, darunter den App Store, Apple Music, iCloud und Apple Pay, die einen immer größeren Anteil am Geschäftsmodell einnehmen. Das Unternehmen zeichnet sich durch eine starke Markenloyalität und eine globale Präsenz aus.</p>
                            <p class="text-gray-600 mb-0">Die Produkte von Apple sind nicht nur technisch fortschrittlich, sondern auch für ihr einzigartiges Design und die einfache Bedienung bekannt. Apple setzt zudem auf Nachhaltigkeit und Datenschutz, was die Marke bei vielen Kunden zusätzlich stärkt. Mit Sitz in Cupertino, Kalifornien, beschäftigt das Unternehmen Zehntausende Mitarbeiter und betreibt Geschäfte in fast allen Ländern der Welt.</p>
                        </div>

                        <!-- Right: chart (flexible width on md+, full width on small screens) -->
                        <div class="mt-4 md:mt-0" style="flex:0 0 40%; max-width:40%;">
                          <div id="tv-container" class="tradingview-widget-container card h-full" style="width:100%; height:100%;" role="region" aria-label="Aktueller Kurs und Chart">
      <div class="tradingview-widget-container__widget"></div>
      <script>
        (function(){
          var cfg = {
            "lineWidth": 2,
            "lineType": 0,
            "chartType": "area",
            "fontColor": "rgb(106, 109, 120)",
            "gridLineColor": "rgba(255, 255, 255, 0)",
            "volumeUpColor": "rgba(34, 171, 148, 0.5)",
            "volumeDownColor": "rgba(247, 82, 95, 0.5)",
            "backgroundColor": "#ffffff",
            "widgetFontColor": "#0F0F0F",
            "upColor": "#22ab94",
            "downColor": "#f7525f",
            "borderUpColor": "#22ab94",
            "borderDownColor": "#f7525f",
            "wickUpColor": "#22ab94",
            "wickDownColor": "#f7525f",
            "colorTheme": "light",
            "isTransparent": true,
            "locale": "de_DE",
            "chartOnly": false,
            "scalePosition": "right",
            "scaleMode": "Normal",
            "fontFamily": "-apple-system, BlinkMacSystemFont, Trebuchet MS, Roboto, Ubuntu, sans-serif",
            "valuesTracking": "1",
            "changeMode": "price-and-percent",
            "symbols": [["GETTEX:APC|1D"]],
            "dateRanges": ["1d|1","1w|15","1m|30","12m|1D","60m|1W","all|1M"],
            "fontSize": "10",
            "headerFontSize": "medium",
            "autosize": false,
            "dateFormat": "dd/MM/yyyy",
            "width": "100%",
            "height": 400,
            "noTimeScale": false,
            "hideDateRanges": false,
            "hideMarketStatus": false,
            "hideSymbolLogo": false
          };
          var s = document.createElement('script'); s.type='text/javascript'; s.async=true;
          s.src = 'https://s3.tradingview.com/external-embedding/embed-widget-symbol-overview.js';
          s.text = JSON.stringify(cfg);
          var target = document.getElementById('tv-container'); if(target) target.appendChild(s);
        })();
      </script>
    </div>
                        </div>
                    </div>
                </div>

                <div id="financials-overview" class="mb-6 p-4 bg-white rounded" style="border:1px solid rgba(15,23,42,0.04); min-height:420px; overflow:visible;" role="region" aria-label="Finanzdaten">
                    <!-- Financials widget wird programmgesteuert eingefügt -->
                    <noscript>
                      <div style="padding:0.5rem;font-size:0.95rem;color:#6b7280;">Financials: Bitte aktiviere JavaScript, um detaillierte Finanzdaten zu sehen.</div>
                    </noscript>
                </div>

                <div class="flex gap-3">
                    <a href="./aktien-monitor.html" class="px-4 py-2 bg-gray-100 rounded">← Zurück zur Übersicht</a>
                    <a href="./alle_analysen.html" class="px-4 py-2 bg-primary-blue text-white rounded">Analyse öffnen</a>
                </div>
            </div>
        </section>
    </main>

    <footer id="abo" class="site-footer" data-scroll="fade-up" data-scroll-delay="40">
      <div class="footer-inner max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 flex flex-col md:flex-row items-center justify-between gap-4">
        <p class="copyright text-sm text-gray-600">&copy; 2024 capitovo. Wachstum durch Wissen.</p>

        <div class="footer-links flex items-center gap-3">
          <a href="../Rechtliches/impressum.html" class="footer-btn" target="_blank" rel="noopener noreferrer">Impressum</a>
          <a href="../Rechtliches/datenschutz.html" class="footer-btn" target="_blank" rel="noopener noreferrer">Datenschutz</a>
          <a href="../Rechtliches/haftung.html" class="footer-btn" target="_blank" rel="noopener noreferrer">Haftungsausschluss</a>
          <a href="../Rechtliches/agb.html" class="footer-btn" target="_blank" rel="noopener noreferrer">AGB</a>
        </div>
      </div>
    </footer>

  <script src="../src/components/insert_components.js"></script>
  <script>
    // Sidebar toggle wiring (single, shared handler)
    document.addEventListener('click', function(e){
      var toggle = e.target.closest('#menu-toggle, .menu-toggle, [aria-controls="sidebar"]');
      if(toggle){
        var sb = document.getElementById('sidebar'); if(!sb) return;
        var isHidden = sb.getAttribute('aria-hidden') === 'true';
        // toggle aria-hidden and the visible class
        sb.setAttribute('aria-hidden', isHidden ? 'false' : 'true');
        if(isHidden) sb.classList.add('open'); else sb.classList.remove('open');
        return;
      }

      var closeTrigger = e.target.closest('#close-sidebar, #logout-link');
      if(closeTrigger){
        var sb2 = document.getElementById('sidebar'); if(!sb2) return;
        sb2.setAttribute('aria-hidden','true'); sb2.classList.remove('open');
        return;
      }
    });
  </script>

  <!-- Footer (already present above) - component include removed to avoid duplication -->

  <script>
    // Financials widget (symbol for Apple)
    (function(){
      var cfg = { symbol: 'NASDAQ:AAPL', colorTheme: 'light', displayMode: 'adaptive', isTransparent: true, locale: 'de_DE', width: '100%', height: 420 };
      var s = document.createElement('script'); s.type='text/javascript'; s.async=true;
      s.src = 'https://s3.tradingview.com/external-embedding/embed-widget-financials.js'; s.text = JSON.stringify(cfg);
      var target = document.getElementById('financials-overview'); if(target) target.appendChild(s);
    })();
  </script>

  <script>
    // Beobachte den financials-overview Container und wende das 3x3-Grid an,
    // sobald mindestens 9 Kindelemente (Datenkästchen) vorhanden sind.
    (function(){
      var container = document.getElementById('financials-overview');
      if(!container) return;

      var applyGrid = function(){
        // Wenn das Embed seine Kästchen als direkte Kinder einfügt,
        // prüfe die Anzahl und setze die Klasse für das Grid.
        var children = Array.from(container.children).filter(function(n){
          // filter out script/noscript nodes and empty text nodes
          return !(n.tagName==='SCRIPT' || n.tagName==='NOSCRIPT' || (n.nodeType===3 && !/\S/.test(n.nodeValue)));
        });
        if(children.length >= 9){
          container.classList.add('three-by-three');
          return true;
        }
        return false;
      };

      // Try immediate (fast path)
      if(applyGrid()) return;

      // Use a MutationObserver to detect when the widget inserts nodes
      var mo = new MutationObserver(function(muts){
        if(applyGrid()){
          mo.disconnect();
        }
      });
      mo.observe(container, { childList: true, subtree: false });

      // As a safety fallback, after 3s try again (in case scripts take longer)
      setTimeout(function(){ applyGrid(); mo.disconnect(); }, 3000);
    })();
  </script>

  <!-- sizing handled by CSS (right column flex + iframe 100% height) -->

</body>
</html>
